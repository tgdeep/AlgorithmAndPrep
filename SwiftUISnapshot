ğŸ“¸ SwiftUI Snapshot Testing

Snapshot testing ensures your UI does not visually regress when code changes.
It compares a rendered view against a stored reference image.

This is especially powerful for:

Design-heavy screens

SwiftUI refactors

Preventing accidental UI breakage

ğŸ§  What Snapshot Testing Is (and Isnâ€™t)
âœ… Snapshot Testing IS

Pixel-level UI regression testing

A safety net for refactors

Great for SwiftUI

âŒ Snapshot Testing IS NOT

Business logic testing

Layout correctness testing

A replacement for unit tests

1ï¸âƒ£ Recommended Tool (Industry Standard)

Use Point-Freeâ€™s SnapshotTesting library.

Why this one?

SwiftUI-friendly

Actively maintained

Used in production apps

Supports iOS, macOS, dark mode, dynamic type

2ï¸âƒ£ Installing SnapshotTesting (SPM)

Add via Swift Package Manager:

https://github.com/pointfreeco/swift-snapshot-testing


Add to your test target, not app target.

3ï¸âƒ£ First SwiftUI Snapshot Test
Example View
struct ProfileCardView: View {
    let name: String

    var body: some View {
        VStack(spacing: 12) {
            Text(name)
                .font(.title2)
            Button("Follow") {}
        }
        .padding()
    }
}

Snapshot Test
import XCTest
import SnapshotTesting
@testable import YourAppModule

final class ProfileCardViewTests: XCTestCase {

    func testProfileCardView() {
        let view = ProfileCardView(name: "Deepak")

        assertSnapshot(
            matching: view,
            as: .image(layout: .sizeThatFits)
        )
    }
}


ğŸ“Œ First run records the snapshot
ğŸ“Œ Future runs compare against it

4ï¸âƒ£ Dark Mode Snapshot
func testProfileCardDarkMode() {
    let view = ProfileCardView(name: "Deepak")
        .preferredColorScheme(.dark)

    assertSnapshot(
        matching: view,
        as: .image(layout: .sizeThatFits)
    )
}


âœ… Prevents dark-mode regressions

5ï¸âƒ£ Dynamic Type Snapshot
func testProfileCardLargeText() {
    let view = ProfileCardView(name: "Deepak")
        .environment(\.sizeCategory, .accessibilityExtraExtraLarge)

    assertSnapshot(
        matching: view,
        as: .image(layout: .sizeThatFits)
    )
}


âœ… Catches truncation issues early

6ï¸âƒ£ Device-Specific Snapshot
func testProfileCard_iPhone14() {
    let view = ProfileCardView(name: "Deepak")

    assertSnapshot(
        matching: view,
        as: .image(on: .iPhone14)
    )
}

7ï¸âƒ£ Snapshot Testing with Navigation
func testProfileScreenInNavigation() {
    let view = NavigationStack {
        ProfileCardView(name: "Deepak")
    }

    assertSnapshot(
        matching: view,
        as: .image(on: .iPhone14)
    )
}

8ï¸âƒ£ When to Update Snapshots

Update snapshots only when:

UI change is intentional

Design change is approved

Accessibility adjustment is expected

âŒ Do NOT blindly re-record snapshots

9ï¸âƒ£ Snapshot Testing Best Practices

âœ… One snapshot per scenario
âœ… Test stable screens
âœ… Avoid animations
âœ… Avoid random data
âœ… Use fixed fonts & dates

ğŸ”¥ Common Snapshot Testing Pitfalls
Pitfall	Fix
Failing CI tests	Match simulator OS
Font mismatch	Use system fonts
Animation flicker	Disable animations
Random data	Use static mocks
ğŸ§  Interview Power Answer

If asked:

â€œHow do you test SwiftUI UI changes?â€

Say:

â€œI use snapshot testing for visual regression, combined with ViewModel unit tests. Snapshot tests protect design during refactors.â€

â­ When to Use Snapshot Tests

Use for:

Design-critical screens

Reusable components

Marketing UI

Dark mode / accessibility

Avoid for:

Highly dynamic screens

Animations

Lists with live data

ğŸ§­ SwiftUI Testing Strategy (Recap)
Business Logic â†’ Unit Tests
ViewModels     â†’ Unit Tests
UI Flow        â†’ UI Tests
UI Regression  â†’ Snapshot Tests

ğŸ“… 5-Day SwiftUI Testing Series Plan

Iâ€™ll follow this order automatically ğŸ‘‡

âœ… Day 1 (Today)

SwiftUI Snapshot Testing âœ…

ğŸ”œ Day 2

State Restoration & Scene Phase Testing

ğŸ”œ Day 3

Deep Linking Test Strategies

ğŸ”œ Day 4

SwiftUI + MVVM Integration Tests

ğŸ”œ Day 5

CI Setup for SwiftUI Tests (GitHub Actions)
